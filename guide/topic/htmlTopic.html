<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>日拱一卒无有尽，功不唐捐终入海</title>
    <meta name="description" content="何元鹏">
    
    
    <link rel="preload" href="/assets/css/0.styles.54851b14.css" as="style"><link rel="preload" href="/assets/js/app.26183d58.js" as="script"><link rel="preload" href="/assets/js/2.e57cddc8.js" as="script"><link rel="preload" href="/assets/js/19.12aa189b.js" as="script"><link rel="prefetch" href="/assets/js/10.10b4d136.js"><link rel="prefetch" href="/assets/js/11.8ba9850b.js"><link rel="prefetch" href="/assets/js/12.32ec6ad9.js"><link rel="prefetch" href="/assets/js/13.9c4c3b55.js"><link rel="prefetch" href="/assets/js/14.64ac4753.js"><link rel="prefetch" href="/assets/js/15.8b00143b.js"><link rel="prefetch" href="/assets/js/16.e1cc5a03.js"><link rel="prefetch" href="/assets/js/17.22f6c85c.js"><link rel="prefetch" href="/assets/js/18.8ff821f4.js"><link rel="prefetch" href="/assets/js/20.9f39d968.js"><link rel="prefetch" href="/assets/js/21.7ac61294.js"><link rel="prefetch" href="/assets/js/22.65157c2e.js"><link rel="prefetch" href="/assets/js/23.7d6916b7.js"><link rel="prefetch" href="/assets/js/24.65db4685.js"><link rel="prefetch" href="/assets/js/25.555f89ec.js"><link rel="prefetch" href="/assets/js/26.af1bfc3b.js"><link rel="prefetch" href="/assets/js/27.d661cc97.js"><link rel="prefetch" href="/assets/js/28.b253968c.js"><link rel="prefetch" href="/assets/js/29.ed8fa68a.js"><link rel="prefetch" href="/assets/js/3.ce76472e.js"><link rel="prefetch" href="/assets/js/30.c2efa0a3.js"><link rel="prefetch" href="/assets/js/31.1d825ebf.js"><link rel="prefetch" href="/assets/js/32.2a68a03e.js"><link rel="prefetch" href="/assets/js/4.71ab0d48.js"><link rel="prefetch" href="/assets/js/5.045e847f.js"><link rel="prefetch" href="/assets/js/6.a6d59be0.js"><link rel="prefetch" href="/assets/js/7.d1387d37.js"><link rel="prefetch" href="/assets/js/8.ebe8911c.js"><link rel="prefetch" href="/assets/js/9.ced2f8d4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.54851b14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">日拱一卒无有尽，功不唐捐终入海</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.jianshu.com/u/d90be3fdd9c5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/InterfaceBoy" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.jianshu.com/u/d90be3fdd9c5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/InterfaceBoy" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>html基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>日常总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ts语法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>面试准备</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/topic/htmlTopic.html" class="active sidebar-link">html</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/topic/htmlTopic.html#_1、html5-中-cookie-sessionstorage-和-localstorage" class="sidebar-link">1、HTML5 中 cookie,sessionStorage 和 localStorage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/topic/htmlTopic.html#名词解读" class="sidebar-link">名词解读</a></li><li class="sidebar-sub-header"><a href="/guide/topic/htmlTopic.html#解决方案" class="sidebar-link">解决方案</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/topic/htmlTopic.html#_2、进程和线程的理解？" class="sidebar-link">2、进程和线程的理解？</a></li><li class="sidebar-sub-header"><a href="/guide/topic/htmlTopic.html#_3、页面从输入-url-到页面加载显示完成的具体流程" class="sidebar-link">3、页面从输入 URL 到页面加载显示完成的具体流程</a></li></ul></li><li><a href="/guide/topic/cssTopic.html" class="sidebar-link">css</a></li><li><a href="/guide/topic/jsTopic.html" class="sidebar-link">js</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每日算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工作流</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实施监督系统</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="_1、html5-中-cookie-sessionstorage-和-localstorage"><a href="#_1、html5-中-cookie-sessionstorage-和-localstorage" class="header-anchor">#</a> 1、HTML5 中 cookie,sessionStorage 和 localStorage</h2> <blockquote><p>cookie 用来保存登录信息，大小限制为 4KB 左右<br>
localStorage 是 Html5 新增的，用于本地数据存储，保存的数据没有过期时间，一般浏览器大小限制在 5MB<br>
sessionStorage 接口方法和 localStorage 类似，但保存的数据的只会在当前会话中保存下来，页面关闭后会被清空</p></blockquote> <img src="/cooke.png" alt="foo"> <p>至Chrome 80版本升级后，Chrome 80开始执行新的Cookie策略，对未设置“SameSite”的Cookie默认其值为Lax，即三方网站如果使用了该资源，在请求中是不会带上相关的Cookie的；对SameSite设置为None的Cookie，要求必须同时设置Secure，否则拒绝此Cookie。</p> <h3 id="名词解读"><a href="#名词解读" class="header-anchor">#</a> 名词解读</h3> <h4 id="cookie的作用"><a href="#cookie的作用" class="header-anchor">#</a> cookie的作用</h4> <p>用于解决客户端与服务端会话状态的问题，这个状态是指后端服务的状态而非通讯协议的状态。</p> <h4 id="cookie中的samesite属性"><a href="#cookie中的samesite属性" class="header-anchor">#</a> cookie中的sameSite属性</h4> <p>作用：SameSite 属性可以让 Cookie 在跨站请求时不会被发送，从而可以阻止跨站请求伪造攻击（CSRF）。
属性值：</p> <blockquote><p>1、Strict 仅允许一方请求携带 Cookie，即浏览器将只发送相同站点请求的 Cookie，即当前网页 URL 与请求目标 URL 完全一致。<br>
2、Lax 允许部分第三方请求携带 Cookie<br>
3、None 无论是否跨站都会发送 Cookie</p></blockquote> <p>Chrome80 之前默认是 None 的，Chrome80 后默认是 Lax。</p> <h3 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h3> <h5 id="_1、在请求中设置-samesite-为-none。"><a href="#_1、在请求中设置-samesite-为-none。" class="header-anchor">#</a> 1、在请求中设置 SameSite 为 none。</h5> <h5 id="_2、采用同域，避开浏览器同源策略（sop），（1、资源处于同一台服务器，2、采用nginx代理处理成同域）"><a href="#_2、采用同域，避开浏览器同源策略（sop），（1、资源处于同一台服务器，2、采用nginx代理处理成同域）" class="header-anchor">#</a> 2、采用同域，避开浏览器同源策略（SOP），（1、资源处于同一台服务器，2、采用nginx代理处理成同域）</h5> <h2 id="_2、进程和线程的理解？"><a href="#_2、进程和线程的理解？" class="header-anchor">#</a> 2、进程和线程的理解？</h2> <p><strong>进程</strong>：cpu 的资源分配的最小单位。<br> <strong>多进程</strong>：多进程指的是在同一个时间里，同一个计算机系统中如果允许两个或两个以上的进程处于运行状态。</p> <p><strong>线程</strong>：</p> <blockquote><p>一个进程由一个或多个线程组成，线程是一个进程中代码的不同执行路线；<br>
进程之间相互独立，但同一进程下的各个线程之间共享程序的内存空间(包括代码段、数据集、堆等)及一些进程级的资源(如打开文件和信号)。</p></blockquote> <p>在浏览器的渲染进程中，主要存在一下几大线程。<br>
1、GUI 线程(负责渲染浏览器界面 HTML 元素)<br>
2、Javascript 引擎线程(负责处理 Javascript 脚本程序，与 GUI 线程互斥，当 JavaScript 引擎执行时 GUI 线程会被挂起，GUI 更新会被保存在一个队列中等到引擎线程空闲时立即被执行。)<br>
3、事件触发线程（状态变更时，放入 JavaScript 引擎的处理队列中等待处理。）<br>
4、定时器线程（浏览器定时计数器并不是由 JavaScript 引擎计数的, 因为 JavaScript 引擎是单线程的, 如果处于阻塞线程状态就会影响记计时的准确, 因此通过单独线程来计时并触发定时是更为合理的方案。）<br>
5、网络请求线程（状态变更时，放入 JavaScript 引擎的处理队列中等待处理。）</p> <h2 id="_3、页面从输入-url-到页面加载显示完成的具体流程"><a href="#_3、页面从输入-url-到页面加载显示完成的具体流程" class="header-anchor">#</a> 3、页面从输入 URL 到页面加载显示完成的具体流程</h2> <p>1、浏览器根据请求的 URL 交给 DNS 域名解析，找到真实 IP，向服务器发起请求（TCP 三次握手四次挥手）；<br>
2、服务器交给后台处理完成后返回数据，浏览器接收文件（HTML、JS、CSS、图象等）；<br>
3、浏览器对加载到的资源（HTML、JS、CSS 等）进行语法解析，建立相应的内部数据结构（如 HTML 的 DOM）；<br>
4、载入解析到的资源文件，渲染页面，完成。</p> <h4 id="具体流程分析："><a href="#具体流程分析：" class="header-anchor">#</a> 具体流程分析：</h4> <p>1、DNS域名解析：</p> <blockquote><p>（1、）解析查找浏览器DNS缓存，如果未查到执行第二步；<br>
（2、）查找系统中hosts文件中的DNS缓存，如果未查到执行第三步；<br>
（3、）查找本地DNS中的缓存是否存在记录，如果无执行第四步；<br>
（4、）本地DNS向远程域服务器发起请求，获取到对应的域名和IP，返回给本地并保存对应关系，以便下次查询</p></blockquote> <p>2、三次握手</p> <blockquote><p>（1、）第一次握手：客户端将标志位SYN置为1,随机产生一个值为seq=J（J的取值范围为=1234567）的数据包到服务器，客户端进入SYN_SENT状态，等待服务端确认；<br>
（2、）第二次握手：服务端收到数据包后由标志位SYN=1知道客户端请求建立连接，服务端将标志位SYN和ACK都置为1，ack=J+1，随机产生一个值seq=K，并将该数据包发送给客户端以确认连接请求，服务端进入SYN_RCVD状态。<br>
（3、）第三次握手：客户端收到确认后，检查ack是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ack=K+1，并将该数据包发送给服务端，服务端检查ack是否为K+1，ACK是否为1，如果正确则连接建立成功，完成三次握手，随后客户端A与服务端B之间可以开始传输数据了。</p></blockquote> <p>3、HTTP请求<br>
建立了TCP连接之后，发起一个http请求；服务器接受并处理完请求，返回 HTTP 响应</p> <p>4、浏览器解析渲染页面</p> <p>5、四次挥手</p> <blockquote><p>第一次挥手：Client发送一个FIN，用来关闭Client到Server的数据传送，Client进入FIN_WAIT_1状态。<br>
第二次挥手：Server收到FIN后，发送一个ACK给Client，确认序号为收到序号+1（与SYN相同，一个FIN占用一个序号），Server进入CLOSE_WAIT状态。<br>
第三次挥手：Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入LAST_ACK状态。<br>
第四次挥手：Client收到FIN后，Client进入TIME_WAIT状态，接着发送一个ACK给Server，确认序号为收到序号+1，Server进入CLOSED状态，完成四次挥手。</p></blockquote> <h4 id="为什么需要三次握手："><a href="#为什么需要三次握手：" class="header-anchor">#</a> 为什么需要三次握手：</h4> <p>三次握手的目的是“为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误。</p> <h4 id="第三次握手失败了怎么办："><a href="#第三次握手失败了怎么办：" class="header-anchor">#</a> 第三次握手失败了怎么办：</h4> <p>当第三次握手失败时服务器并不会重传ack报文，而是直接发送RST报文段，进入CLOSED状态。这样做的目的是为了防止SYN洪泛攻击。</p> <h4 id="为什么需要四次挥手："><a href="#为什么需要四次挥手：" class="header-anchor">#</a> 为什么需要四次挥手：</h4> <p>因为TCP是一个全双工协议，必须单独拆除每一条信道。4次挥手的目的是终止数据传输</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/InterfaceBoy/edit/master/docs/guide/topic/htmlTopic.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">何元鹏:</span> <span class="time">3/8/2021, 10:26:32 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/tsmd/Ts.html" class="prev">Ts基础语法</a></span> <span class="next"><a href="/guide/topic/cssTopic.html">css</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.26183d58.js" defer></script><script src="/assets/js/2.e57cddc8.js" defer></script><script src="/assets/js/19.12aa189b.js" defer></script>
  </body>
</html>
