<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>日拱一卒无有尽，功不唐捐终入海</title>
    <meta name="description" content="何元鹏">
    
    
    <link rel="preload" href="/assets/css/0.styles.54851b14.css" as="style"><link rel="preload" href="/assets/js/app.26183d58.js" as="script"><link rel="preload" href="/assets/js/2.e57cddc8.js" as="script"><link rel="preload" href="/assets/js/26.af1bfc3b.js" as="script"><link rel="prefetch" href="/assets/js/10.10b4d136.js"><link rel="prefetch" href="/assets/js/11.8ba9850b.js"><link rel="prefetch" href="/assets/js/12.32ec6ad9.js"><link rel="prefetch" href="/assets/js/13.9c4c3b55.js"><link rel="prefetch" href="/assets/js/14.64ac4753.js"><link rel="prefetch" href="/assets/js/15.8b00143b.js"><link rel="prefetch" href="/assets/js/16.e1cc5a03.js"><link rel="prefetch" href="/assets/js/17.22f6c85c.js"><link rel="prefetch" href="/assets/js/18.8ff821f4.js"><link rel="prefetch" href="/assets/js/19.12aa189b.js"><link rel="prefetch" href="/assets/js/20.9f39d968.js"><link rel="prefetch" href="/assets/js/21.7ac61294.js"><link rel="prefetch" href="/assets/js/22.65157c2e.js"><link rel="prefetch" href="/assets/js/23.7d6916b7.js"><link rel="prefetch" href="/assets/js/24.65db4685.js"><link rel="prefetch" href="/assets/js/25.555f89ec.js"><link rel="prefetch" href="/assets/js/27.d661cc97.js"><link rel="prefetch" href="/assets/js/28.b253968c.js"><link rel="prefetch" href="/assets/js/29.ed8fa68a.js"><link rel="prefetch" href="/assets/js/3.ce76472e.js"><link rel="prefetch" href="/assets/js/30.c2efa0a3.js"><link rel="prefetch" href="/assets/js/31.1d825ebf.js"><link rel="prefetch" href="/assets/js/32.2a68a03e.js"><link rel="prefetch" href="/assets/js/4.71ab0d48.js"><link rel="prefetch" href="/assets/js/5.045e847f.js"><link rel="prefetch" href="/assets/js/6.a6d59be0.js"><link rel="prefetch" href="/assets/js/7.d1387d37.js"><link rel="prefetch" href="/assets/js/8.ebe8911c.js"><link rel="prefetch" href="/assets/js/9.ced2f8d4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.54851b14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">日拱一卒无有尽，功不唐捐终入海</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.jianshu.com/u/d90be3fdd9c5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/InterfaceBoy" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.jianshu.com/u/d90be3fdd9c5" target="_blank" rel="noopener noreferrer" class="nav-link external">
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/InterfaceBoy" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>html基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>日常总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue框架</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/vuemd/Vue3.html" class="sidebar-link">Vue3学习笔记</a></li><li><a href="/guide/vuemd/VueSpot.html" class="sidebar-link">Vue框架应用知识点</a></li><li><a href="/guide/vuemd/Vue.html" class="sidebar-link">Vue框架</a></li><li><a href="/guide/vuemd/Vuex.html" class="active sidebar-link">VueX状态管理模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/vuemd/Vuex.html#基本概述" class="sidebar-link">基本概述</a></li><li class="sidebar-sub-header"><a href="/guide/vuemd/Vuex.html#核心概念" class="sidebar-link">核心概念</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/vuemd/Vuex.html#state" class="sidebar-link">State</a></li><li class="sidebar-sub-header"><a href="/guide/vuemd/Vuex.html#getter" class="sidebar-link">Getter</a></li><li class="sidebar-sub-header"><a href="/guide/vuemd/Vuex.html#mutation" class="sidebar-link">mutation</a></li></ul></li></ul></li><li><a href="/guide/vuemd/VueRouter.html" class="sidebar-link">Vue路由</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Ts语法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试准备</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每日算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工作流</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实施监督系统</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vuex-学习"><a href="#vuex-学习" class="header-anchor">#</a> VueX 学习</h1> <h2 id="基本概述"><a href="#基本概述" class="header-anchor">#</a> 基本概述</h2> <p>Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p> <h4 id="单向数据流理念"><a href="#单向数据流理念" class="header-anchor">#</a> 单向数据流理念</h4> <p><strong>典型通讯方式</strong>：父子组件通讯、兄弟组件通讯</p> <blockquote><p>state通过声明的方式将数据映射到view中，view拿到数据进行渲染，用户在view层更新数据，view将
更改的数据传递到actions中，actions拿到数据在去状态中更新state。</p></blockquote> <h2 id="核心概念"><a href="#核心概念" class="header-anchor">#</a> 核心概念</h2> <p>在vuex中store是整个应用的核心，“store”属于容器的存在，包含着大部分state状态，为控制store的
途径唯一性，改变状态只能通过mutation来改变。</p> <h3 id="state"><a href="#state" class="header-anchor">#</a> State</h3> <p><strong>1、获取vuex中state状态值</strong></p> <div class="language- extra-class"><pre class="language-text"><code>this.$store.state.值名称
</code></pre></div><p><strong>2、mapState 辅助函数</strong><br>
当一个组件需要获取多个状态时，mapState可自动生成计算属性</p> <div class="language- extra-class"><pre class="language-text"><code>import {mapState} from 'vuex'
export default {
 name: 'home',
 computed: mapState(['nickname','age','gender'])
}
</code></pre></div><p>上面代码相当于</p> <div class="language- extra-class"><pre class="language-text"><code>nickname(){return this.$store.state.nickname}
age(){return this.$store.state.age}
gender(){return this.$store.state.gender}
</code></pre></div><p>如果在计算属性（computed）中需要自定义一个计算属性，将使用下面的方法</p> <div class="language- extra-class"><pre class="language-text"><code>computed: {   //computed是不能传参数的
  value(){
   return this.val/7
},
// 使用ES6的扩展运算符
  ...mapState(['nickname','age','gender'])
}
</code></pre></div><h3 id="getter"><a href="#getter" class="header-anchor">#</a> Getter</h3> <p>可以将其看作store的计算属性，就像计算属性一样，getter 的返回值会根据它的依赖被缓存起来，且只有当它的依赖值发生了改变才会被重新计算。<br>
在getter中有两个参数，第一个参数代表当前状态中的state，第二个参数代表getters本身。</p> <div class="language- extra-class"><pre class="language-text"><code>const store = new Vuex.Store({
  state: {
    todos: [
      { id: 1, text: '...', done: true },
      { id: 2, text: '...', done: false }
    ]
  },
  getters: {
    doneTodos: state =&gt; {
      return state.todos.filter(todo =&gt; todo.done)
    },
    doneTodosCount: (state, getters) =&gt; {
    return getters.doneTodos.length
  }
  }
})
</code></pre></div><p><strong>使用方法的方式访问getters</strong></p> <div class="language- extra-class"><pre class="language-text"><code>getters: { 
  getTodoById: (state) =&gt; (id) =&gt; {
    return state.todos.find(todo =&gt; todo.id === id)
  }
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>store.getters.getTodoById(2) // -&gt; { id: 2, text: '...', done: false }
</code></pre></div><p><strong>mapGetters辅助函数</strong></p> <div class="language- extra-class"><pre class="language-text"><code>import { mapGetters } from 'vuex'

export default {
  // ...
  computed: {
  // 使用对象展开运算符将 getter 混入 computed 对象中
    ...mapGetters([
      'doneTodosCount',
      'anotherGetter',
      // ...
    ])
  }
}
</code></pre></div><p>如果你需要在mapGetters中更改属性名称，需要使用对象的形式</p> <div class="language- extra-class"><pre class="language-text"><code>...mapGetters({
  // 把 `this.doneCount` 映射为 `this.$store.getters.doneTodosCount`
  doneCount: 'doneTodosCount'
})
</code></pre></div><h3 id="mutation"><a href="#mutation" class="header-anchor">#</a> mutation</h3> <p><strong>基本定义</strong><br>
在vuex中mutation类似于一个事件，它存在一个事件类型和一个回调函数，回调函数就是我们实际修改state的地方。<br>
在mutation中我们不能直接调取回调函数，必须先注册事件。</p> <div class="language- extra-class"><pre class="language-text"><code>const store = new Vuex.Store({
  state: {
    count: 1
  },
  mutations: {
    // increment=事件类型（注册事件）
    increment (state) {
      // 变更状态
      // 注意在所有的mutation中，更改的状态都必须在state先声明才能使用。
      state.count++
    }
  }
})
</code></pre></div><p><strong>载荷</strong><br>
在mutation中如果你想使用store.commit传入额外的参数，就要使用载荷（payload）。
但是在载荷中我们一般传递的都是对象，因为对象的表意更加的明确。</p> <div class="language- extra-class"><pre class="language-text"><code>mutations: {
  increment (state, payload) {
    state.count += payload.amount
  }
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>store.commit('increment', {
  amount: 10
})
</code></pre></div><blockquote><p>既然 Vuex 的 store 中的状态是响应式的，那么当我们变更状态时，监视状态的 Vue 组件也会自动更新。这也意味着 Vuex 中的 mutation 也需要与使用 Vue 一样遵守一些注意事项：<br>
1、在 store 中初始化好所有所需属性。<br>
2、当需要在对象上添加新属性时，使用 Vue.set(obj, 'newProp', 123),<br>
3、或者利用对象展开运算符我们可以这样写：</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>state.obj = { ...state.obj, newProp: 123 }  
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/InterfaceBoy/edit/master/docs/guide/vuemd/Vuex.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">何元鹏:</span> <span class="time">6/15/2020, 10:37:01 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/vuemd/Vue.html" class="prev">Vue框架</a></span> <span class="next"><a href="/guide/vuemd/VueRouter.html">Vue路由</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.26183d58.js" defer></script><script src="/assets/js/2.e57cddc8.js" defer></script><script src="/assets/js/26.af1bfc3b.js" defer></script>
  </body>
</html>
